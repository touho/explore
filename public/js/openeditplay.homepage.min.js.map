{"version":3,"file":null,"sources":["../node_modules/redom/dist/redom.es.js"],"sourcesContent":["var text = function (str) { return doc.createTextNode(str); };\n\nfunction mount (parent, child, before) {\n  var parentEl = parent.el || parent;\n  var childEl = child.el || child;\n\n  if (isList(childEl)) {\n    childEl = childEl.el;\n  }\n\n  if (child === childEl && childEl.__redom_view) {\n    // try to look up the view if not provided\n    child = childEl.__redom_view;\n  }\n\n  if (child !== childEl) {\n    childEl.__redom_view = child;\n  }\n\n  if (child.isMounted) {\n    child.remount && child.remount();\n  } else {\n    child.mount && child.mount();\n  }\n\n  if (before) {\n    parentEl.insertBefore(childEl, before.el || before);\n  } else {\n    parentEl.appendChild(childEl);\n  }\n\n  if (child.isMounted) {\n    child.remounted && child.remounted();\n  } else {\n    child.isMounted = true;\n    child.mounted && child.mounted();\n  }\n\n  return child;\n}\n\nfunction unmount (parent, child) {\n  var parentEl = parent.el || parent;\n  var childEl = child.el || child;\n\n  if (child === childEl && childEl.__redom_view) {\n    // try to look up the view if not provided\n    child = childEl.__redom_view;\n  }\n\n  child.unmount && child.unmount();\n\n  parentEl.removeChild(childEl);\n\n  child.isMounted = false;\n  child.unmounted && child.unmounted();\n\n  return child;\n}\n\nfunction setStyle (view, arg1, arg2) {\n  var el = view.el || view;\n\n  if (arguments.length > 2) {\n    el.style[arg1] = arg2;\n  } else if (isString(arg1)) {\n    el.setAttribute('style', arg1);\n  } else {\n    for (var key in arg1) {\n      setStyle(el, key, arg1[key]);\n    }\n  }\n}\n\nfunction setAttr (view, arg1, arg2) {\n  var el = view.el || view;\n  var isSVG = el instanceof window.SVGElement;\n\n  if (arguments.length > 2) {\n    if (arg1 === 'style') {\n      setStyle(el, arg2);\n    } else if (isSVG && isFunction(arg2)) {\n      el[arg1] = arg2;\n    } else if (!isSVG && (arg1 in el || isFunction(arg2))) {\n      el[arg1] = arg2;\n    } else {\n      el.setAttribute(arg1, arg2);\n    }\n  } else {\n    for (var key in arg1) {\n      setAttr(el, key, arg1[key]);\n    }\n  }\n}\n\nfunction parseArguments (element, args) {\n  for (var i = 0; i < args.length; i++) {\n    var arg = args[i];\n\n    if (!arg) {\n      continue;\n    }\n\n    // support middleware\n    if (typeof arg === 'function') {\n      arg(element);\n    } else if (isString(arg) || isNumber(arg)) {\n      element.appendChild(text(arg));\n    } else if (isNode(arg) || isNode(arg.el) || isList(arg.el)) {\n      mount(element, arg);\n    } else if (arg.length) {\n      parseArguments(element, arg);\n    } else if (typeof arg === 'object') {\n      setAttr(element, arg);\n    }\n  }\n}\n\nvar isString = function (a) { return typeof a === 'string'; };\nvar isNumber = function (a) { return typeof a === 'number'; };\nvar isFunction = function (a) { return typeof a === 'function'; };\n\nvar isNode = function (a) { return a && a.nodeType; };\nvar isList = function (a) { return a && a.__redom_list; };\n\nvar doc = document;\n\nvar HASH = '#'.charCodeAt(0);\nvar DOT = '.'.charCodeAt(0);\n\nfunction createElement (query, ns) {\n  var tag;\n  var id;\n  var className;\n\n  var mode = 0;\n  var start = 0;\n\n  for (var i = 0; i <= query.length; i++) {\n    var char = query.charCodeAt(i);\n\n    if (char === HASH || char === DOT || !char) {\n      if (mode === 0) {\n        if (i === 0) {\n          tag = 'div';\n        } else if (!char) {\n          tag = query;\n        } else {\n          tag = query.substring(start, i);\n        }\n      } else {\n        var slice = query.substring(start, i);\n\n        if (mode === 1) {\n          id = slice;\n        } else if (className) {\n          className += ' ' + slice;\n        } else {\n          className = slice;\n        }\n      }\n\n      start = i + 1;\n\n      if (char === HASH) {\n        mode = 1;\n      } else {\n        mode = 2;\n      }\n    }\n  }\n\n  var element = ns ? doc.createElementNS(ns, tag) : doc.createElement(tag);\n\n  if (id) {\n    element.id = id;\n  }\n\n  if (className) {\n    if (ns) {\n      element.setAttribute('class', className);\n    } else {\n      element.className = className;\n    }\n  }\n\n  return element;\n}\n\nvar htmlCache = {};\n\nvar memoizeHTML = function (query) { return htmlCache[query] || createElement(query); };\n\nfunction html (query) {\n  var args = [], len = arguments.length - 1;\n  while ( len-- > 0 ) args[ len ] = arguments[ len + 1 ];\n\n  var element;\n\n  if (isString(query)) {\n    element = memoizeHTML(query).cloneNode(false);\n  } else if (isNode(query)) {\n    element = query.cloneNode(false);\n  } else {\n    throw new Error('At least one argument required');\n  }\n\n  parseArguments(element, args);\n\n  return element;\n}\n\nhtml.extend = function (query) {\n  var clone = memoizeHTML(query);\n\n  return html.bind(this, clone);\n};\n\nvar el = html;\n\nfunction setChildren (parent, children) {\n  if (children.length === undefined) {\n    return setChildren(parent, [children]);\n  }\n\n  var parentEl = parent.el || parent;\n  var traverse = parentEl.firstChild;\n\n  for (var i = 0; i < children.length; i++) {\n    var child = children[i];\n\n    if (!child) {\n      continue;\n    }\n\n    var childEl = child.el || child;\n\n    if (isList(childEl)) {\n      childEl = childEl.el;\n    }\n\n    if (childEl === traverse) {\n      traverse = traverse.nextSibling;\n      continue;\n    }\n\n    mount(parent, child, traverse);\n  }\n\n  while (traverse) {\n    var next = traverse.nextSibling;\n\n    unmount(parent, traverse);\n\n    traverse = next;\n  }\n}\n\nfunction list (parent, View, key, initData) {\n  return new List(parent, View, key, initData);\n}\n\nfunction List (parent, View, key, initData) {\n  this.__redom_list = true;\n  this.View = View;\n  this.key = key;\n  this.initData = initData;\n  this.views = [];\n  this.el = getParentEl(parent);\n\n  if (key) {\n    this.lookup = {};\n  }\n}\n\nList.extend = function (parent, View, key, initData) {\n  return List.bind(List, parent, View, key, initData);\n};\n\nlist.extend = List.extend;\n\nList.prototype.update = function (data) {\n  if ( data === void 0 ) data = [];\n\n  var View = this.View;\n  var key = this.key;\n  var functionKey = isFunction(key);\n  var initData = this.initData;\n  var newViews = new Array(data.length);\n  var oldViews = this.views;\n  var newLookup = key && {};\n  var oldLookup = key && this.lookup;\n\n  for (var i = 0; i < data.length; i++) {\n    var item = data[i];\n    var view = (void 0);\n\n    if (key) {\n      var id = functionKey ? key(item) : item[key];\n      view = newViews[i] = oldLookup[id] || new View(initData, item, i, data);\n      newLookup[id] = view;\n      view.__id = id;\n    } else {\n      view = newViews[i] = oldViews[i] || new View(initData, item, i, data);\n    }\n    var el$$1 = view.el;\n    if (el$$1.__redom_list) {\n      el$$1 = el$$1.el;\n    }\n    el$$1.__redom_view = view;\n    view.update && view.update(item, i, data);\n  }\n\n  setChildren(this, newViews);\n\n  if (key) {\n    this.lookup = newLookup;\n  }\n  this.views = newViews;\n};\n\nfunction getParentEl (parent) {\n  if (isString(parent)) {\n    return html(parent);\n  } else if (isNode(parent.el)) {\n    return parent.el;\n  } else {\n    return parent;\n  }\n}\n\nfunction router (parent, Views, initData) {\n  return new Router(parent, Views, initData);\n}\n\nvar Router = function Router (parent, Views, initData) {\n  this.el = getParentEl(parent);\n  this.Views = Views;\n  this.initData = initData;\n};\nRouter.prototype.update = function update (route, data) {\n  if (route !== this.route) {\n    var Views = this.Views;\n    var View = Views[route];\n\n    this.view = View && new View(this.initData, data);\n    this.route = route;\n\n    setChildren(this.el, [ this.view ]);\n  }\n  this.view && this.view.update && this.view.update(data, route);\n};\n\nvar SVG = 'http://www.w3.org/2000/svg';\n\nvar svgCache = {};\n\nvar memoizeSVG = function (query) { return svgCache[query] || createElement(query, SVG); };\n\nfunction svg (query) {\n  var args = [], len = arguments.length - 1;\n  while ( len-- > 0 ) args[ len ] = arguments[ len + 1 ];\n\n  var element;\n\n  if (isString(query)) {\n    element = memoizeSVG(query).cloneNode(false);\n  } else if (isNode(query)) {\n    element = query.cloneNode(false);\n  } else {\n    throw new Error('At least one argument required');\n  }\n\n  parseArguments(element, args);\n\n  return element;\n}\n\nsvg.extend = function (query) {\n  var clone = memoizeSVG(query);\n\n  return svg.bind(this, clone);\n};\n\nexport { html, el, list, List, mount, unmount, router, Router, setAttr, setStyle, setChildren, svg, text };\n"],"names":["mount","parent","child","before","parentEl","el","childEl","isList","__redom_view","isMounted","remount","insertBefore","appendChild","remounted","mounted","unmount","removeChild","unmounted","setStyle","view","arg1","arg2","arguments","length","style","isString","setAttribute","key","setAttr","isSVG","window","SVGElement","isFunction","parseArguments","element","args","i","arg","isNumber","text","isNode","createElement","query","ns","tag","id","className","mode","start","char","charCodeAt","HASH","DOT","substring","slice","doc","createElementNS","html","len","memoizeHTML","cloneNode","Error","setChildren","children","undefined","traverse","firstChild","nextSibling","next","list","View","initData","List","this","__redom_list","views","getParentEl","lookup","str","createTextNode","a","nodeType","document","htmlCache","extend","clone","bind","prototype","update","data","functionKey","newViews","Array","oldViews","newLookup","oldLookup","item","__id","el$$1","Views","route"],"mappings":"k+BAEA,QAASA,GAAOC,EAAQC,EAAOC,GAC7B,GAAIC,GAAWH,EAAOI,IAAMJ,EACxBK,EAAUJ,EAAMG,IAAMH,CAkC1B,OAhCIK,GAAOD,KACTA,EAAUA,EAAQD,IAGhBH,IAAUI,GAAWA,EAAQE,eAE/BN,EAAQI,EAAQE,cAGdN,IAAUI,IACZA,EAAQE,aAAeN,GAGrBA,EAAMO,UACRP,EAAMQ,SAAWR,EAAMQ,UAEvBR,EAAMF,OAASE,EAAMF,QAGnBG,EACFC,EAASO,aAAaL,EAASH,EAAOE,IAAMF,GAE5CC,EAASQ,YAAYN,GAGnBJ,EAAMO,UACRP,EAAMW,WAAaX,EAAMW,aAEzBX,EAAMO,WAAY,EAClBP,EAAMY,SAAWZ,EAAMY,WAGlBZ,EAGT,QAASa,GAASd,EAAQC,GACxB,GAAIE,GAAWH,EAAOI,IAAMJ,EACxBK,EAAUJ,EAAMG,IAAMH,CAc1B,OAZIA,KAAUI,GAAWA,EAAQE,eAE/BN,EAAQI,EAAQE,cAGlBN,EAAMa,SAAWb,EAAMa,UAEvBX,EAASY,YAAYV,GAErBJ,EAAMO,WAAY,EAClBP,EAAMe,WAAaf,EAAMe,YAElBf,EAGT,QAASgB,GAAUC,EAAMC,EAAMC,GAC7B,GAAIhB,GAAKc,EAAKd,IAAMc,CAEpB,IAAIG,UAAUC,OAAS,EACrBlB,EAAGmB,MAAMJ,GAAQC,MACZ,IAAII,EAASL,GAClBf,EAAGqB,aAAa,QAASN,OAEzB,KAAK,GAAIO,KAAOP,GACdF,EAASb,EAAIsB,EAAKP,EAAKO,IAK7B,QAASC,GAAST,EAAMC,EAAMC,GAC5B,GAAIhB,GAAKc,EAAKd,IAAMc,EAChBU,EAAQxB,YAAcyB,QAAOC,UAEjC,IAAIT,UAAUC,OAAS,EACR,UAATH,EACFF,EAASb,EAAIgB,GACJQ,GAASG,EAAWX,GAC7BhB,EAAGe,GAAQC,GACDQ,IAAUT,IAAQf,IAAM2B,EAAWX,IAC7ChB,EAAGe,GAAQC,EAEXhB,EAAGqB,aAAaN,EAAMC,OAGxB,KAAK,GAAIM,KAAOP,GACdQ,EAAQvB,EAAIsB,EAAKP,EAAKO,IAK5B,QAASM,GAAgBC,EAASC,GAChC,IAAK,GAAIC,GAAI,EAAGA,EAAID,EAAKZ,OAAQa,IAAK,CACpC,GAAIC,GAAMF,EAAKC,EAEVC,KAKc,kBAARA,GACTA,EAAIH,GACKT,EAASY,IAAQC,EAASD,GACnCH,EAAQtB,YAAY2B,EAAKF,IAChBG,EAAOH,IAAQG,EAAOH,EAAIhC,KAAOE,EAAO8B,EAAIhC,IACrDL,EAAMkC,EAASG,GACNA,EAAId,OACbU,EAAeC,EAASG,GACA,gBAARA,IAChBT,EAAQM,EAASG,KAiBvB,QAASI,GAAeC,EAAOC,GAQ7B,IAAK,GAPDC,GACAC,EACAC,EAEAC,EAAO,EACPC,EAAQ,EAEHZ,EAAI,EAAGA,GAAKM,EAAMnB,OAAQa,IAAK,CACtC,GAAIa,GAAOP,EAAMQ,WAAWd,EAE5B,IAAIa,IAASE,GAAQF,IAASG,IAAQH,EAAM,CAC1C,GAAa,IAATF,EAEAH,EADQ,IAANR,EACI,MACIa,EAGJP,EAAMW,UAAUL,EAAOZ,GAFvBM,MAIH,CACL,GAAIY,GAAQZ,EAAMW,UAAUL,EAAOZ,EAEtB,KAATW,EACFF,EAAKS,EACIR,EACTA,GAAa,IAAMQ,EAEnBR,EAAYQ,EAIhBN,EAAQZ,EAAI,EAGVW,EADEE,IAASE,EACJ,EAEA,GAKb,GAAIjB,GAAUS,EAAKY,EAAIC,gBAAgBb,EAAIC,GAAOW,EAAId,cAAcG,EAcpE,OAZIC,KACFX,EAAQW,GAAKA,GAGXC,IACEH,EACFT,EAAQR,aAAa,QAASoB,GAE9BZ,EAAQY,UAAYA,GAIjBZ,EAOT,QAASuB,GAAMf,GAEb,oBADIP,KAAWuB,EAAMpC,UAAUC,OAAS,EAChCmC,KAAQ,GAAIvB,EAAMuB,GAAQpC,EAAWoC,EAAM,EAEnD,IAAIxB,EAEJ,IAAIT,EAASiB,GACXR,EAAUyB,EAAYjB,GAAOkB,WAAU,OAClC,CAAA,IAAIpB,EAAOE,GAGhB,KAAM,IAAImB,OAAM,iCAFhB3B,GAAUQ,EAAMkB,WAAU,GAO5B,MAFA3B,GAAeC,EAASC,GAEjBD,EAWT,QAAS4B,GAAa7D,EAAQ8D,GAC5B,GAAwBC,SAApBD,EAASxC,OACX,MAAOuC,GAAY7D,GAAS8D,GAM9B,KAAK,GAHD3D,GAAWH,EAAOI,IAAMJ,EACxBgE,EAAW7D,EAAS8D,WAEf9B,EAAI,EAAGA,EAAI2B,EAASxC,OAAQa,IAAK,CACxC,GAAIlC,GAAQ6D,EAAS3B,EAErB,IAAKlC,EAAL,CAIA,GAAII,GAAUJ,EAAMG,IAAMH,CAEtBK,GAAOD,KACTA,EAAUA,EAAQD,IAGhBC,IAAY2D,EAKhBjE,EAAMC,EAAQC,EAAO+D,GAJnBA,EAAWA,EAASE,aAOxB,KAAOF,GAAU,CACf,GAAIG,GAAOH,EAASE,WAEpBpD,GAAQd,EAAQgE,GAEhBA,EAAWG,GAIf,QAASC,GAAMpE,EAAQqE,EAAM3C,EAAK4C,GAChC,MAAO,IAAIC,GAAKvE,EAAQqE,EAAM3C,EAAK4C,GAGrC,QAASC,GAAMvE,EAAQqE,EAAM3C,EAAK4C,GAChCE,KAAKC,cAAe,EACpBD,KAAKH,KAAOA,EACZG,KAAK9C,IAAMA,EACX8C,KAAKF,SAAWA,EAChBE,KAAKE,SACLF,KAAKpE,GAAKuE,EAAY3E,GAElB0B,IACF8C,KAAKI,WAkDT,QAASD,GAAa3E,GACpB,MAAIwB,GAASxB,GACJwD,EAAKxD,GACHuC,EAAOvC,EAAOI,IAChBJ,EAAOI,GAEPJ,mcAvUX,GAAIsC,GAAO,SAAUuC,GAAO,MAAOvB,GAAIwB,eAAeD,IAsHlDrD,EAAW,SAAUuD,GAAK,MAAoB,gBAANA,IACxC1C,EAAW,SAAU0C,GAAK,MAAoB,gBAANA,IACxChD,EAAa,SAAUgD,GAAK,MAAoB,kBAANA,IAE1CxC,EAAS,SAAUwC,GAAK,MAAOA,IAAKA,EAAEC,UACtC1E,EAAS,SAAUyE,GAAK,MAAOA,IAAKA,EAAEN,cAEtCnB,EAAM2B,SAEN/B,EAAO,IAAID,WAAW,GACtBE,EAAM,IAAIF,WAAW,GA6DrBiC,KAEAxB,EAAc,SAAUjB,GAAS,MAAOyC,GAAUzC,IAAUD,EAAcC,GAqB9Ee,GAAK2B,OAAS,SAAU1C,GACtB,GAAI2C,GAAQ1B,EAAYjB,EAExB,OAAOe,GAAK6B,KAAKb,KAAMY,GAGzB,IAAIhF,GAAKoD,CAyDTe,GAAKY,OAAS,SAAUnF,EAAQqE,EAAM3C,EAAK4C,GACzC,MAAOC,GAAKc,KAAKd,EAAMvE,EAAQqE,EAAM3C,EAAK4C,IAG5CF,EAAKe,OAASZ,EAAKY,OAEnBZ,EAAKe,UAAUC,OAAS,SAAUC,GAClB,SAATA,IAAkBA,KAWvB,KAAK,GATDnB,GAAOG,KAAKH,KACZ3C,EAAM8C,KAAK9C,IACX+D,EAAc1D,EAAWL,GACzB4C,EAAWE,KAAKF,SAChBoB,EAAW,GAAIC,OAAMH,EAAKlE,QAC1BsE,EAAWpB,KAAKE,MAChBmB,EAAYnE,MACZoE,EAAYpE,GAAO8C,KAAKI,OAEnBzC,EAAI,EAAGA,EAAIqD,EAAKlE,OAAQa,IAAK,CACpC,GAAI4D,GAAOP,EAAKrD,GACZjB,QAEJ,IAAIQ,EAAK,CACP,GAAIkB,GAAK6C,EAAc/D,EAAIqE,GAAQA,EAAKrE,EACxCR,GAAOwE,EAASvD,GAAK2D,EAAUlD,IAAO,GAAIyB,GAAKC,EAAUyB,EAAM5D,EAAGqD,GAClEK,EAAUjD,GAAM1B,EAChBA,EAAK8E,KAAOpD,MAEZ1B,GAAOwE,EAASvD,GAAKyD,EAASzD,IAAM,GAAIkC,GAAKC,EAAUyB,EAAM5D,EAAGqD,EAElE,IAAIS,GAAQ/E,EAAKd,EACb6F,GAAMxB,eACRwB,EAAQA,EAAM7F,IAEhB6F,EAAM1F,aAAeW,EACrBA,EAAKqE,QAAUrE,EAAKqE,OAAOQ,EAAM5D,EAAGqD,GAGtC3B,EAAYW,KAAMkB,GAEdhE,IACF8C,KAAKI,OAASiB,GAEhBrB,KAAKE,MAAQgB,GAiBF,SAAiB1F,EAAQkG,EAAO5B,GAC3CE,KAAKpE,GAAKuE,EAAY3E,GACtBwE,KAAK0B,MAAQA,EACb1B,KAAKF,SAAWA,GAEXgB,UAAUC,OAAS,SAAiBY,EAAOX,GAChD,GAAIW,IAAU3B,KAAK2B,MAAO,CACxB,GAAID,GAAQ1B,KAAK0B,MACb7B,EAAO6B,EAAMC,EAEjB3B,MAAKtD,KAAOmD,GAAQ,GAAIA,GAAKG,KAAKF,SAAUkB,GAC5ChB,KAAK2B,MAAQA,EAEbtC,EAAYW,KAAKpE,IAAMoE,KAAKtD,OAE9BsD,KAAKtD,MAAQsD,KAAKtD,KAAKqE,QAAUf,KAAKtD,KAAKqE,OAAOC,EAAMW,GAG1D"}