!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.redom=e.redom||{})}(this,function(e){"use strict";function t(e,t,n){var i=e.el||e,r=t.el||t;return g(r)&&(r=r.el),t===r&&r.__redom_view&&(t=r.__redom_view),t!==r&&(r.__redom_view=t),t.isMounted?t.remount&&t.remount():t.mount&&t.mount(),n?i.insertBefore(r,n.el||n):i.appendChild(r),t.isMounted?t.remounted&&t.remounted():(t.isMounted=!0,t.mounted&&t.mounted()),t}function n(e,t){var n=e.el||e,i=t.el||t;return t===i&&i.__redom_view&&(t=i.__redom_view),t.unmount&&t.unmount(),n.removeChild(i),t.isMounted=!1,t.unmounted&&t.unmounted(),t}function i(e,t,n){var r=e.el||e;if(arguments.length>2)r.style[t]=n;else if(m(t))r.setAttribute("style",t);else for(var o in t)i(r,o,t[o])}function r(e,t,n){var o=e.el||e,u=o instanceof window.SVGElement;if(arguments.length>2)"style"===t?i(o,n):u&&p(n)?o[t]=n:!u&&(t in o||p(n))?o[t]=n:o.setAttribute(t,n);else for(var s in t)r(o,s,t[s])}function o(e,n){for(var i=0;i<n.length;i++){var u=n[i];u&&("function"==typeof u?u(e):m(u)||w(u)?e.appendChild(c(u)):_(u)||_(u.el)||g(u.el)?t(e,u):u.length?o(e,u):"object"==typeof u&&r(e,u))}}function u(e,t){for(var n,i,r,o=0,u=0,s=0;s<=e.length;s++){var l=e.charCodeAt(s);if(l===b||l===x||!l){if(0===o)n=0===s?"div":l?e.substring(u,s):e;else{var a=e.substring(u,s);1===o?i=a:r?r+=" "+a:r=a}u=s+1,o=l===b?1:2}}var d=t?y.createElementNS(t,n):y.createElement(n);return i&&(d.id=i),r&&(t?d.setAttribute("class",r):d.className=r),d}function s(e){for(var t=[],n=arguments.length-1;n-->0;)t[n]=arguments[n+1];var i;if(m(e))i=C(e).cloneNode(!1);else{if(!_(e))throw new Error("At least one argument required");i=e.cloneNode(!1)}return o(i,t),i}function l(e,i){if(void 0===i.length)return l(e,[i]);for(var r=e.el||e,o=r.firstChild,u=0;u<i.length;u++){var s=i[u];if(s){var a=s.el||s;g(a)&&(a=a.el),a!==o?t(e,s,o):o=o.nextSibling}}for(;o;){var d=o.nextSibling;n(e,o),o=d}}function a(e,t,n,i){return new d(e,t,n,i)}function d(e,t,n,i){this.__redom_list=!0,this.View=t,this.key=n,this.initData=i,this.views=[],this.el=f(e),n&&(this.lookup={})}function f(e){return m(e)?s(e):_(e.el)?e.el:e}function h(e,t,n){return new k(e,t,n)}function v(e){for(var t=[],n=arguments.length-1;n-->0;)t[n]=arguments[n+1];var i;if(m(e))i=S(e).cloneNode(!1);else{if(!_(e))throw new Error("At least one argument required");i=e.cloneNode(!1)}return o(i,t),i}var c=function(e){return y.createTextNode(e)},m=function(e){return"string"==typeof e},w=function(e){return"number"==typeof e},p=function(e){return"function"==typeof e},_=function(e){return e&&e.nodeType},g=function(e){return e&&e.__redom_list},y=document,b="#".charCodeAt(0),x=".".charCodeAt(0),A={},C=function(e){return A[e]||u(e)};s.extend=function(e){var t=C(e);return s.bind(this,t)};var N=s;d.extend=function(e,t,n,i){return d.bind(d,e,t,n,i)},a.extend=d.extend,d.prototype.update=function(e){void 0===e&&(e=[]);for(var t=this.View,n=this.key,i=p(n),r=this.initData,o=new Array(e.length),u=this.views,s=n&&{},a=n&&this.lookup,d=0;d<e.length;d++){var f=e[d],h=void 0;if(n){var v=i?n(f):f[n];h=o[d]=a[v]||new t(r,f,d,e),s[v]=h,h.__id=v}else h=o[d]=u[d]||new t(r,f,d,e);var c=h.el;c.__redom_list&&(c=c.el),c.__redom_view=h,h.update&&h.update(f,d,e)}l(this,o),n&&(this.lookup=s),this.views=o};var k=function(e,t,n){this.el=f(e),this.Views=t,this.initData=n};k.prototype.update=function(e,t){if(e!==this.route){var n=this.Views,i=n[e];this.view=i&&new i(this.initData,t),this.route=e,l(this.el,[this.view])}this.view&&this.view.update&&this.view.update(t,e)};var E="http://www.w3.org/2000/svg",M={},S=function(e){return M[e]||u(e,E)};v.extend=function(e){var t=S(e);return v.bind(this,t)},e.html=s,e.el=N,e.list=a,e.List=d,e.mount=t,e.unmount=n,e.router=h,e.Router=k,e.setAttr=r,e.setStyle=i,e.setChildren=l,e.svg=v,e.text=c,Object.defineProperty(e,"__esModule",{value:!0})});